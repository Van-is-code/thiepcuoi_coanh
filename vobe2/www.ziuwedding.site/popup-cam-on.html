<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
  <title>Popup Cáº£m Æ n - Mobile</title>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;1,300;1,400&family=Great+Vibes&family=Montserrat:wght@300;400&display=swap" rel="stylesheet"/>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

    body {
      font-family: 'Montserrat', sans-serif;
      min-height: 100vh;
      background: linear-gradient(160deg, #f9f0e4 0%, #fdf6ee 100%);
      display: flex; align-items: center; justify-content: center;
    }

    /* â”€â”€ Demo trigger â”€â”€ */
    .demo-btn {
      padding: 14px 32px;
      background: linear-gradient(135deg, #c9a96e, #a67c52);
      color: #fff; border: none; border-radius: 50px;
      font-size: 13px; letter-spacing: 2px; text-transform: uppercase;
      cursor: pointer; font-family: 'Montserrat', sans-serif;
      box-shadow: 0 8px 24px rgba(166,124,82,.35);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       OVERLAY
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    #tyOverlay {
      display: none;
      position: fixed; inset: 0; z-index: 9999;
      align-items: flex-end;          /* sheet tá»« dÆ°á»›i lÃªn */
      justify-content: center;
      background: rgba(15,8,2,.6);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      padding: 0;
    }
    #tyOverlay.active { display: flex; animation: fadeOverlay .35s ease; }
    @keyframes fadeOverlay { from { opacity:0 } to { opacity:1 } }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       CARD â€” bottom sheet style
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .ty-sheet {
      width: 100%;
      max-width: 430px;
      background: #fffdf8;
      border-radius: 28px 28px 0 0;
      overflow: hidden;
      animation: slideUp .45s cubic-bezier(.32,1.2,.64,1) forwards;
      transform: translateY(100%);
      box-shadow: 0 -12px 60px rgba(0,0,0,.22);
    }
    @keyframes slideUp { to { transform: translateY(0) } }

    /* â”€â”€ Pull handle â”€â”€ */
    .ty-handle {
      width: 36px; height: 4px; border-radius: 2px;
      background: #d4b896; margin: 12px auto 0;
    }

    /* â”€â”€ Photo â”€â”€ */
    .ty-photo {
      position: relative;
      height: 200px;
      margin: 16px 16px 0;
      border-radius: 20px;
      overflow: hidden;
    }
    .ty-photo img {
      width: 100%; height: 100%;
      object-fit: cover; object-position: center 20%;
      filter: brightness(.9) saturate(1.1);
      animation: kbPhoto 10s ease-in-out infinite alternate;
    }
    @keyframes kbPhoto { from { transform: scale(1) } to { transform: scale(1.07) } }

    /* gradient bottom */
    .ty-photo::after {
      content: '';
      position: absolute; inset: 0;
      background: linear-gradient(to bottom, transparent 40%, rgba(255,253,248,.9) 100%);
    }

    /* couple name over photo */
    .ty-photo-name {
      position: absolute; bottom: 12px; left: 0; right: 0; z-index: 2;
      text-align: center;
      font-family: 'Great Vibes', cursive;
      font-size: 1.9rem; color: #4a2800;
      letter-spacing: 1px;
      text-shadow: 0 1px 8px rgba(255,255,255,.5);
    }

    /* floating hearts */
    .hearts { position: absolute; inset: 0; z-index: 3; pointer-events: none; overflow: hidden; }
    .heart  { position: absolute; bottom: -10px; opacity: 0; font-size: 14px;
               animation: floatUp linear infinite; }
    .heart:nth-child(1) { left:12%; animation-duration:3.8s; animation-delay:.2s; }
    .heart:nth-child(2) { left:35%; animation-duration:4.5s; animation-delay:1.1s; font-size:11px; }
    .heart:nth-child(3) { left:58%; animation-duration:3.2s; animation-delay:.6s; font-size:17px; }
    .heart:nth-child(4) { left:80%; animation-duration:4.1s; animation-delay:1.8s; }
    @keyframes floatUp {
      0%   { transform: translateY(0) scale(.8); opacity:0; }
      15%  { opacity:.9; }
      85%  { opacity:.5; }
      100% { transform: translateY(-215px) scale(1.2); opacity:0; }
    }

    /* â”€â”€ Body â”€â”€ */
    .ty-body { padding: 18px 24px 32px; text-align: center; }

    /* ornament */
    .ty-orn {
      display: flex; align-items: center; gap: 10px; justify-content: center;
      margin-bottom: 12px;
    }
    .ty-orn-line {
      flex: 1; max-width: 55px; height: 1px;
      background: linear-gradient(to right, transparent, #c9a96e);
    }
    .ty-orn-line.r { background: linear-gradient(to left, transparent, #c9a96e); }
    .ty-orn-icon { color: #c9a96e; font-size: 14px; }

    .ty-label {
      font-size: 10px; letter-spacing: 3px; text-transform: uppercase;
      color: #c9a96e; margin-bottom: 6px;
    }

    .ty-title {
      font-family: 'Great Vibes', cursive;
      font-size: 2.4rem; color: #3d2005; line-height: 1.1;
      margin-bottom: 12px;
    }

    .ty-text {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.05rem; line-height: 1.8;
      color: #6b5240; font-style: italic; font-weight: 300;
      margin-bottom: 8px;
    }

    .ty-sub {
      font-size: 11.5px; color: #b09070; line-height: 1.6;
      margin-bottom: 20px;
    }

    /* date pill */
    .ty-date {
      display: inline-flex; align-items: center; gap: 6px;
      background: linear-gradient(135deg, #fef3e2, #fde8c8);
      border: 1px solid #e8c990; border-radius: 50px;
      padding: 6px 18px; font-size: 12px; color: #8a5e28;
      letter-spacing: 1.5px; margin-bottom: 22px;
    }

    /* CTA button */
    .ty-btn {
      width: 100%;
      padding: 15px;
      background: linear-gradient(135deg, #c9a96e 0%, #a67c52 100%);
      color: #fff; border: none; border-radius: 50px;
      font-family: 'Montserrat', sans-serif;
      font-size: 12px; letter-spacing: 2.5px; text-transform: uppercase;
      cursor: pointer;
      box-shadow: 0 6px 22px rgba(166,124,82,.4);
      transition: transform .2s, box-shadow .2s;
      position: relative; overflow: hidden;
    }
    .ty-btn:active { transform: scale(.97); }
    /* shimmer */
    .ty-btn::after {
      content: '';
      position: absolute; top: 0; left: -60%;
      width: 40%; height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.35), transparent);
      animation: shimmer 2.2s infinite;
    }
    @keyframes shimmer { to { left: 130% } }

    /* â”€â”€ Confetti canvas â”€â”€ */
    #tyConfetti {
      position: fixed; inset: 0; z-index: 9998; pointer-events: none;
    }

    /* â”€â”€ Close X â”€â”€ */
    .ty-x {
      position: absolute; top: 14px; right: 16px; z-index: 10;
      background: rgba(255,255,255,.8); border: none;
      width: 28px; height: 28px; border-radius: 50%;
      font-size: 14px; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      color: #6b5240; backdrop-filter: blur(4px);
    }

    /* safe area bottom for notch phones */
    .ty-safe { height: env(safe-area-inset-bottom, 0); }

    /* desktop: centered modal instead of sheet */
    @media (min-width: 480px) {
      #tyOverlay { align-items: center; padding: 20px; }
      .ty-sheet {
        border-radius: 24px;
        animation: popIn .45s cubic-bezier(.34,1.4,.64,1) forwards;
        transform: scale(.88) translateY(20px); opacity: 0;
        box-shadow: 0 24px 70px rgba(0,0,0,.28);
      }
      @keyframes popIn { to { transform: scale(1) translateY(0); opacity:1 } }
    }
  </style>
</head>
<body>

  <button class="demo-btn" onclick="showTY()">âœ‰ Demo popup cáº£m Æ¡n</button>

  <!-- CONFETTI -->
  <canvas id="tyConfetti"></canvas>

  <!-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
       â•‘  POPUP â€” copy vÃ o cuá»‘i <body>        â•‘
       â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div id="tyOverlay">
    <div class="ty-sheet">

      <!-- Pull handle -->
      <div class="ty-handle"></div>

      <!-- Close X -->
      <button class="ty-x" onclick="closeTY()">âœ•</button>

      <!-- Photo -->
      <div class="ty-photo">
        <!--
          â˜… THAY SRC Báº°NG áº¢NH CÆ¯á»šI THáº¬T Cá»¦A Báº N â˜…
          KhuyÃªn dÃ¹ng áº£nh ngang, tá»‰ lá»‡ 16:9 hoáº·c 3:2
        -->
        <img
          src="https://images.unsplash.com/photo-1519741497674-611481863552?w=800&q=80"
          alt="áº¢nh cÆ°á»›i"
          id="tyPhoto"
        />
        <div class="hearts">
          <span class="heart">ğŸ¤</span>
          <span class="heart">ğŸ’›</span>
          <span class="heart">ğŸ¤</span>
          <span class="heart">ğŸ’›</span>
        </div>
        <div class="ty-photo-name">Duy Nam &amp; VÃ¢n Anh</div>
      </div>

      <!-- Body -->
      <div class="ty-body">

        <div class="ty-orn">
          <div class="ty-orn-line"></div>
          <span class="ty-orn-icon">â™¡</span>
          <div class="ty-orn-line r"></div>
        </div>

        <p class="ty-label">TrÃ¢n trá»ng cáº£m Æ¡n</p>
        <h2 class="ty-title">Cáº£m Æ¡n báº¡n!</h2>

        <p class="ty-text">
          Lá»i chÃºc cá»§a báº¡n lÃ  Ä‘iá»u Ã½ nghÄ©a nháº¥t<br/>
          trong ngÃ y háº¡nh phÃºc cá»§a chÃºng tÃ´i âœ¨
        </p>

        <p class="ty-sub">
          ChÃºng tÃ´i Ä‘Ã£ nháº­n Ä‘Æ°á»£c lá»i nháº¯n cá»§a báº¡n ğŸŒ¸<br/>
          Ráº¥t mong Ä‘Æ°á»£c Ä‘Ã³n tiáº¿p báº¡n trong ngÃ y trá»ng Ä‘áº¡i!
        </p>

        <div class="ty-date">ğŸ“… &nbsp; 18 Â· 01 Â· 2026</div>

        <button class="ty-btn" onclick="closeTY()">â™¡ &nbsp; ÄÃ³ng láº¡i</button>
      </div>

      <!-- iOS safe area -->
      <div class="ty-safe"></div>
    </div>
  </div>
  <!-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
       â•‘  Háº¾T POPUP                           â•‘
       â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

  <script>
    /* â”€â”€â”€ Má»Ÿ popup â”€â”€â”€ */
    function showTY() {
      document.getElementById('tyOverlay').classList.add('active');
      launchConfetti();
      // ÄÃ³ng khi báº¥m vÃ¹ng tá»‘i bÃªn ngoÃ i
      document.getElementById('tyOverlay').addEventListener('click', function(e){
        if (e.target === this) closeTY();
      }, { once: true });
    }

    /* â”€â”€â”€ ÄÃ³ng popup â”€â”€â”€ */
    function closeTY() {
      const el = document.getElementById('tyOverlay');
      const sheet = el.querySelector('.ty-sheet');
      sheet.style.transition = 'transform .3s ease, opacity .3s ease';
      sheet.style.transform = 'translateY(100%)';
      sheet.style.opacity = '0';
      el.style.transition = 'opacity .35s ease';
      el.style.opacity = '0';
      setTimeout(() => {
        el.classList.remove('active');
        el.style.cssText = '';
        sheet.style.cssText = '';
        stopConfetti();
      }, 350);
    }

    /* â”€â”€â”€ Confetti â”€â”€â”€ */
    const COLORS = ['#c9a96e','#f0d9b0','#f5c6cb','#fff','#e8c990','#d4b896'];
    let running = false, raf;

    function launchConfetti() {
      const c = document.getElementById('tyConfetti');
      const ctx = c.getContext('2d');
      c.width = window.innerWidth; c.height = window.innerHeight;
      running = true;

      const pieces = Array.from({ length: 90 }, () => ({
        x: Math.random() * c.width,
        y: Math.random() * c.height - c.height,
        w: Math.random() * 8 + 3, h: Math.random() * 4 + 2,
        color: COLORS[Math.floor(Math.random() * COLORS.length)],
        rot: Math.random() * Math.PI * 2,
        spin: (Math.random() - .5) * .14,
        vx: (Math.random() - .5) * 1.8,
        vy: Math.random() * 2.8 + 1.4,
        alpha: Math.random() * .5 + .45,
      }));

      (function draw() {
        if (!running) { ctx.clearRect(0, 0, c.width, c.height); return; }
        ctx.clearRect(0, 0, c.width, c.height);
        pieces.forEach(p => {
          p.x += p.vx; p.y += p.vy; p.rot += p.spin;
          if (p.y > c.height) { p.y = -10; p.x = Math.random() * c.width; }
          ctx.save(); ctx.globalAlpha = p.alpha;
          ctx.translate(p.x, p.y); ctx.rotate(p.rot);
          ctx.fillStyle = p.color;
          ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
          ctx.restore();
        });
        raf = requestAnimationFrame(draw);
      })();

      setTimeout(stopConfetti, 4500);
    }

    function stopConfetti() {
      running = false; cancelAnimationFrame(raf);
      const c = document.getElementById('tyConfetti');
      c.getContext('2d').clearRect(0, 0, c.width, c.height);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       TÃCH Há»¢P VÃ€O FORM:
       Sau khi API push lÃªn DB thÃ nh cÃ´ng â†’ gá»i showTY()

       VÃ­ dá»¥:
       const res = await fetch('/api/wishes', { method:'POST', ... })
       if (res.ok) showTY()
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  </script>
</body>
</html>